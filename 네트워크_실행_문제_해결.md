# 네트워크 드라이브에서 배치 파일 실행 문제 해결

## 문제 상황

```
증상:
네트워크 위치(\\192.168.0.250\...)에서 START_DOCKER.bat 실행 시
"이 파일을 만든 사람을 확인할 수 없습니다" 경고

원인:
Windows 보안 정책이 네트워크에서 다운로드/복사된 파일 실행 차단
```

---

## 해결 방법

### 방법 1: 로컬 PC로 복사 (권장) ⭐

```batch
1. 네트워크 폴더 열기
   \\192.168.0.250\공유폴더\HMI_REAL

2. HMI_REAL 폴더 전체를 로컬 PC로 복사
   복사 위치: C:\HMI_REAL
   또는: C:\Users\my\Desktop\HMI_REAL

3. 로컬 폴더에서 START_DOCKER.bat 실행

장점:
✅ 보안 경고 없음
✅ 실행 속도 빠름
✅ Docker 호환성 좋음
✅ 네트워크 끊김 영향 없음
```

### 방법 2: 파일 차단 해제

```
1. START_DOCKER.bat 우클릭 → 속성

2. 일반 탭 하단 확인:
   ┌────────────────────────────────┐
   │ 보안: 이 파일은 다른 컴퓨터에서  │
   │ 가져온 것으로...                │
   │                                │
   │ ☑ 차단 해제(K)                 │
   └────────────────────────────────┘

3. "차단 해제" 체크
4. 확인 클릭
5. 다시 실행

주의:
⚠️ 모든 .bat 파일에 적용 필요
⚠️ 새 파일 추가 시 반복 필요
```

### 방법 3: PowerShell로 일괄 차단 해제

```powershell
# PowerShell을 관리자 권한으로 실행

# HMI_REAL 폴더로 이동
cd \\192.168.0.250\공유폴더\HMI_REAL

# 모든 파일 차단 해제
Get-ChildItem -Recurse | Unblock-File

# 완료 메시지
Write-Host "모든 파일의 차단이 해제되었습니다."
```

### 방법 4: 네트워크 드라이브 매핑

```
1. 네트워크 드라이브를 로컬 드라이브처럼 연결

   내 PC → 우클릭 → 네트워크 드라이브 연결

   드라이브: Z:
   폴더: \\192.168.0.250\공유폴더

2. Z:\HMI_REAL\START_DOCKER.bat 실행

주의:
⚠️ 여전히 보안 경고 발생 가능
⚠️ 방법 2와 함께 사용 권장
```

---

## Docker 사용 시 주의사항

### ⚠️ **네트워크 경로 문제**

```
Docker는 네트워크 경로를 잘 처리하지 못합니다:

문제:
\\192.168.0.250\HMI_REAL → Docker 볼륨 마운트 실패
C:\HMI_REAL → 정상 작동 ✅

이유:
- Docker는 로컬 파일 시스템 경로 필요
- WSL2는 네트워크 드라이브 접근 제한
- 성능 문제 발생 가능
```

### ✅ **권장 워크플로우**

```
개발/테스트:
1. 로컬 PC에서 작업
   C:\HMI_REAL

2. 코드 수정 및 테스트

3. 완료 후 네트워크로 백업
   → \\192.168.0.250\백업\HMI_REAL

배포:
1. 네트워크에서 USB로 복사
   또는
2. 네트워크에서 다른 PC로 직접 복사

3. 대상 PC의 로컬에서 실행
```

---

## 단계별 가이드

### 시나리오 1: 개발자 PC

```
1. 네트워크 공유 폴더에서 로컬로 복사
   \\192.168.0.250\HMI_REAL → C:\HMI_REAL

2. 로컬에서 개발
   C:\HMI_REAL\START_DOCKER.bat

3. 코드 수정
   - 백엔드: C:\HMI_REAL\backend\*.py
   - 프론트엔드: C:\HMI_REAL\frontend\src\*.jsx

4. 정기적으로 네트워크에 백업
   C:\HMI_REAL → \\192.168.0.250\백업\HMI_REAL_20250118
```

### 시나리오 2: 고객사 시연

```
1. 네트워크에서 USB로 복사
   \\192.168.0.250\HMI_REAL → USB:\HMI_REAL

2. 고객사 PC에서 USB → 로컬 복사
   USB:\HMI_REAL → C:\HMI_REAL

3. 로컬에서 실행
   C:\HMI_REAL\START_DOCKER.bat

4. 시연 완료
```

### 시나리오 3: 여러 PC에 배포

```
1. 네트워크 공유 폴더 설정
   \\192.168.0.250\HMI_배포\

2. 각 PC에서:
   a. 네트워크 폴더 접속
   b. 로컬로 복사
   c. 로컬에서 실행

3. 업데이트 시:
   a. 네트워크 폴더 업데이트
   b. 각 PC에서 다시 복사
```

---

## 자주 묻는 질문

### Q1: 네트워크에서 직접 실행하면 안 되나요?

```
A: 기술적으로 가능하지만 권장하지 않습니다.

문제점:
❌ 보안 경고 반복
❌ Docker 볼륨 마운트 실패 가능
❌ 네트워크 속도에 따라 느림
❌ 네트워크 끊김 시 오류

해결:
✅ 로컬로 복사 후 실행 (1~2분 소요)
```

### Q2: 차단 해제해도 안전한가요?

```
A: 신뢰할 수 있는 소스라면 안전합니다.

주의사항:
✅ 자신이 만든 파일 → 안전
✅ 팀원이 만든 파일 → 안전
⚠️ 인터넷에서 다운로드 → 확인 필요
❌ 출처 불명 파일 → 위험
```

### Q3: PowerShell 명령어가 안 먹혀요

```
A: 관리자 권한으로 실행하세요.

방법:
1. Win + X
2. "Windows PowerShell (관리자)" 선택
3. 명령어 다시 실행

또는

1. 시작 메뉴에서 PowerShell 검색
2. 우클릭 → 관리자 권한으로 실행
```

### Q4: 로컬 복사 시 용량이 큰데요?

```
A: venv, node_modules 제외하고 복사하세요.

복사 전 제외:
❌ backend/venv/
❌ frontend/node_modules/
❌ frontend/dist/

복사 후 용량:
✅ 약 10~50MB (소스 코드만)

Docker 실행 시:
- 필요한 패키지 자동 설치
- 이미지 빌드 시 포함
```

---

## 최종 권장사항

### ⭐ **베스트 프랙티스**

```
1. 개발
   로컬에서 작업 (C:\HMI_REAL)

2. 백업
   네트워크로 정기 백업 (\\192.168.0.250\백업\)

3. 배포
   네트워크 → USB → 대상 PC 로컬

4. 실행
   항상 로컬에서 실행
```

### 📋 **체크리스트**

```
배포 전:
☐ 로컬 PC에 Docker Desktop 설치
☐ 네트워크에서 로컬로 복사
☐ 파일 차단 해제 (필요시)
☐ START_DOCKER.bat 실행
☐ 브라우저 접속 확인

문제 발생 시:
☐ 로컬 경로 확인 (C:\... 형식)
☐ Docker Desktop 실행 확인
☐ 방화벽 확인
☐ LOGS_DOCKER.bat로 로그 확인
```

---

**작성일:** 2025-01-18
**문서 버전:** 1.0
